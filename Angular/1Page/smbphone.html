<!DOCTYPE html>
<html lang="en">
<head>
    <title>VividCortex reCaptcha Directive Example</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.28/angular.js"></script>

    <script>
        var app = angular.module('testApp', []);

        app.controller('testCtrl', function ($scope) {
            console.log("this is your app's controller");


        });


        angular.module('testApp').directive('smbPhone', function ($timeout) {
            return {
                restrict: "A",
                replace: false,
                scope:{
                    WirelessNumber:'='
                },
                link: function (scope, element, attrs) {
                    element.on('keypress paste', function (e, element) {

                        console.log(e);
//                        if (e.type == 'keypress')
//                            return keyPressHandler(e);
                           if (e.type=='paste')
                            pasteHandler(e);

                    });


                    function pasteHandler(e) {



                        scope.$apply(function(){
                            scope.$parent.WirelessNumber= $(element).val().replace(/[^a-z\d\s]+/gi, "");

                        });

                    }


                    function keyPressHandler(e) {
                        var key = [e.keyCode || e.which];
                        var str = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz~`._!@#$%^&*()+=-[]\';,/{}|\":<>?";
                        var chrCode = String.fromCharCode(e.charCode);

                        if (str.indexOf(chrCode) !== -1) {
                            return false;
                        }

                    }

                }
            };
        });
    </script>

</head>
<body>
<div class="container" ng-app="testApp" ng-controller="testCtrl">

    <input type="text" smb-phone style="border:2px solid orange;" ng-model="WirelessNumber"/>
</div>
</body>
</html>